/* ==================================================
   MAP WRAPPER
================================================== */

.map-wrapper{
position:relative;
z-index:1;
width:90%;
max-width:1400px;
margin:40px auto;
border-radius:var(--radius-main);
background:var(--bg-map);
overflow:hidden;
}

.map-wrapper::after{
content:"";
position:absolute;
inset:-1px;
border-radius:16px;
border:3px solid var(--accent-purple);
pointer-events:none;
z-index:10;
}

.map-image{
width:100%;
display:block;
}

/* ==================================================
   MAP BOXES
================================================== */

.map-box{
position:absolute;
transform:translate(-50%,-50%);
width:10%;
height:5%;
border-radius:var(--radius-box);
background:rgba(0,0,0,0.35);
backdrop-filter:blur(6px);
border:2px solid var(--box-color,#fff);
display:flex;
align-items:center;
justify-content:center;
}

.map-box input{
all:unset;

position:absolute;
left:0;
top:0;
width:100%;
height:100%;

display:flex;
align-items:center;
justify-content:center;

color:var(--box-color,#fff);
text-align:center;
font-weight:700;

white-space:nowrap;
overflow:hidden;
}

/* COLORS */

.map-box.purple{ --box-color:var(--accent-purple); }
.map-box.blue{ --box-color:var(--accent-blue); }
.map-box.red{ --box-color:var(--accent-red); }
.map-box.yellow{ --box-color:var(--accent-yellow); }

/* ACTIVE HIGHLIGHT */

.map-box.active{
transform:translate(-50%,-50%) scale(1.15);
box-shadow:0 0 18px var(--box-color,#fff);
z-index:5;
}

/* ==================================================
   SAVE + CLEAR BUTTONS
================================================== */

#clearBtn{
position:fixed;
right:40px;
bottom:40px;
}

#saveBtn{
position:absolute;

right:2.5%;
bottom:2.5%;

padding:0.8% 1.4%;

background:linear-gradient(135deg,#9333ea,#7e22ce);
border:none;
border-radius:10px;

color:white;
font-weight:bold;

cursor:pointer;
transition:.2s;

z-index:20;

/* ðŸ”¥ SKALOWANIE Z MAPÄ„ */
font-size:clamp(12px,0.9vw,18px);
}

#saveBtn:hover{
transform:scale(1.08);
}

/* EXPORT MODE */

.export-mode .map-box{
backdrop-filter:none !important;
background:rgba(0,0,0,0.90) !important;
}

/* ==================================================
   DEFENSE PANEL (SCROLLABLE)
================================================== */

.name-panel{
position:absolute;
right:20px;        /* ðŸ”¥ juÅ¼ nie wychodzi poza ekran */
top:120px;
width:260px;

max-height:70vh;
overflow-y:auto;   /* ðŸ”¥ SCROLL NA PANELU */

background:rgba(20,20,20,.85);
backdrop-filter:blur(10px);

border-radius:14px;
padding:10px;
z-index:50;

scrollbar-width:thin;
scrollbar-color:var(--accent-purple) transparent;

transition:max-height .25s ease;
}

/* ==================================================
   PRO SCROLLBAR (VISIBLE)
================================================== */

.name-panel::-webkit-scrollbar{
width:10px;
}

.name-panel::-webkit-scrollbar-track{
background:transparent;
}

.name-panel::-webkit-scrollbar-thumb{
background:var(--accent-purple);
border-radius:10px;
}

.name-panel::-webkit-scrollbar-thumb:hover{
background:#7f00e7;
}

/* ==================================================
   LIST INSIDE PANEL
================================================== */

#nameList{
padding-right:4px;
cursor:grab;
}

.name-panel input{
width:100%;
margin-bottom:6px;
background:#1a1a1a;
border:1px solid #333;
color:white;
padding:6px;
border-radius:6px;
}

/* COPY BUTTON */

#copyAllBtn{
width:100%;
margin-bottom:8px;
background:#7f00e7;
border:none;
padding:8px;
border-radius:8px;
cursor:pointer;
font-weight:bold;
}

/* IMPORT BUTTON */

#importBtn{
width:100%;
margin-bottom:8px;
background:#a00000;
border:none;
padding:8px;
border-radius:8px;
cursor:pointer;
font-weight:bold;
}

/* ==================================================
   COLLAPSE UP (ONLY ARROW)
================================================== */

.name-panel.collapsed{
max-height:28px;
padding:0;
background:transparent;
box-shadow:none;
overflow:visible;
}

.name-panel.collapsed #toggleListBtn{
width:auto;
margin:auto;
background:transparent;
padding:0;
font-size:14px;
}

.name-panel.collapsed #nameList,
.name-panel.collapsed #copyAllBtn{
display:none;
}

/* TOGGLE BUTTON */

#toggleListBtn{
width:100%;
margin-bottom:6px;
background:#333;
border:none;
padding:8px;
border-radius:8px;
color:white;
cursor:pointer;
font-weight:bold;
}

/* ==========================================
   EXPORT MODE FIX (html2canvas compatibility)
========================================== */

.export-mode .map-box input{
position:static !important;
display:flex !important;
align-items:center;
justify-content:center;
}

/* ===== EXPORT FIX â€“ TEXT ALIGN ===== */

.export-mode .map-box input{
display:flex;
align-items:center;
justify-content:center;
height:100%;
line-height:1;
padding:0;
margin:0;
}

/* ===== EXPORT MODE FIX ===== */

.export-mode .map-box{
background:rgba(0,0,0,0.80) !important;
backdrop-filter:none !important;
}

